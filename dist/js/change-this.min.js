"use strict";var Utils={breakpoints:{small:240,medium:400,large:600,huge:900},getAllElementsWithAttribute:function(a){for(var b=[],c=document.getElementsByTagName("*"),d=0,e=c.length;e>d;d++)null!==c[d].getAttribute(a)&&b.push(c[d]);return b},debounce:function(a,b){var c=null;return function(){var d=this,e=arguments;clearTimeout(c),c=setTimeout(function(){a.apply(d,e)},b)}},throttle:function(a,b,c){b||(b=250);var d,e;return function(){var f=c||this,g=+new Date,h=arguments;d&&d+b>g?(clearTimeout(e),e=setTimeout(function(){d=g,a.apply(f,h)},b)):(d=g,a.apply(f,h))}},screenSize:function(){return window.innerWidth>Utils.breakpoints.huge?"huge":window.innerWidth<=Utils.breakpoints.huge&&window.innerWidth>Utils.breakpoints.large?"large":window.innerWidth<=Utils.breakpoints.large&&window.innerWidth>Utils.breakpoints.medium?"medium":"small"}},header;document.addEventListener("DOMContentLoaded",function(){var a=document.querySelectorAll("html");a[0].classList.remove("no-js");var b=document.querySelectorAll(".js-header");try{header=new Header(b[0])}catch(c){"undefined"!=typeof console&&console.error(c.stack)}},!1);var Header=function(){function a(b){return this instanceof a?(this.header=b,console.log(this,this.header),void(this.header&&this.init())):new a(b)}return a.prototype.init=function(a){this.attrs=this.header.dataset,this.header.querySelectorAll(".js-menu-primary")[0]&&this.header.querySelectorAll(".js-menu-panel")[0]&&(this.menuEnabled=!0,this.menu={primary:this.header.querySelectorAll(".js-menu-primary")[0],secondary:this.header.querySelectorAll(".js-menu-secondary")[0],primaryItems:this.header.querySelectorAll(".js-menu-primary")[0].children,panel:this.header.querySelectorAll(".js-menu-panel")[0],panelItems:this.header.querySelectorAll(".js-menu-secondary")[0].children,toggle:this.header.querySelectorAll(".js-menu-toggle")[0],states:{panelOpen:!1,expanding:!1,contracting:!1}}),this.header.querySelectorAll(".js-notify")[0]&&this.header.querySelectorAll(".js-notify-panel")[0]&&(this.notificationsEnabled=!0,this.notifications={cta:this.header.querySelectorAll(".js-notify")[0],panel:this.header.querySelectorAll(".js-notify-panel")[0],items:this.header.querySelectorAll(".js-notify-item"),close:this.header.querySelectorAll(".js-notify-close")[0],settingsCta:this.header.querySelectorAll(".js-notify-settings")[0],settingsPanel:this.header.querySelectorAll(".js-notify-settings-panel")[0],settingsClose:this.header.querySelectorAll(".js-notify-settings-close")[0],states:{menuPanelOpen:!1,notifyPanelOpen:!1,settingsPanelOpen:!1,newNotifications:!1}}),this.bindEvents()},a.prototype.bindEvents=function(){var a=this;this.notificationsEnabled&&(this.notifications.cta.addEventListener("click",function(b){a.handleNotificationPanel(),a.notifications.states.settingsPanelOpen&&a.handleSettingsPanel()}),this.notifications.close.addEventListener("click",function(b){a.handleNotificationPanel()}),this.notifications.settingsCta.addEventListener("click",function(b){a.handleSettingsPanel()}),this.notifications.settingsClose.addEventListener("click",function(b){a.handleSettingsPanel()})),this.menuEnabled&&(this.handleMenuLinks(),this.menu.toggle.addEventListener("click",function(b){a.handleMenu()}),window.addEventListener("resize",function(){a.menu.primary.style.visibility="hidden";for(var b=0;b<a.menu.primaryItems.length;b++)a.menu.primaryItems[b].classList.remove("hidden");console.log(a.menu.states.panelOpen),a.menu.states.panelOpen&&(console.log("here"),a.resizeMenu()),a.handleMenuLinks()},!1))},a.prototype.handleMenu=function(){console.log("menu");this.menu.states.panelOpen?this.header.style.marginBottom="0px":this.resizeMenu(!0),this.menu.states.panelOpen=!this.menu.states.panelOpen},a.prototype.resizeMenu=function(a){var b,c,d=this;a?(c=d.menu.secondary.clientHeight,d.header.style.marginBottom=c+"px"):b=setTimeout(function(){c=d.menu.secondary.clientHeight,d.header.style.marginBottom=c+"px"},500)},a.prototype.handleMenuLinks=function(){for(var a=this.menu.primary.clientWidth,b=0,c=!1,d=0;d<this.menu.primaryItems.length;d++)b+=this.menu.primaryItems[d].clientWidth,a>b?(this.menu.primaryItems[d].classList.remove("hidden"),this.menu.panelItems[d].classList.remove("visible","first"),this.menu.panelItems[d].classList.add("hidden")):(this.menu.primaryItems[d].classList.add("hidden"),this.menu.panelItems[d].classList.remove("hidden","first"),this.menu.panelItems[d].classList.add("visible"),c||(this.menu.primaryItems[d-1].classList.add("hidden"),this.menu.panelItems[d-1].classList.add("visible","first"),this.menu.panelItems[d-1].classList.remove("hidden"),c=!0));this.menu.primary.style.visibility="visible"},a.prototype.handleSettingsPanel=function(){this.notifications.states.settingsPanelOpen?this.notifications.settingsPanel.classList.remove("is-open"):this.notifications.settingsPanel.classList.add("is-open"),this.notifications.states.settingsPanelOpen=!this.notifications.states.settingsPanelOpen},a.prototype.handleNotificationPanel=function(){function a(){b.notificationPanelHeight=.75*window.innerHeight,b.notifications.panel.style.height=b.notificationPanelHeight+"px"}var b=this;a(),this.notifications.states.notifyPanelOpen?(this.header.style.marginBottom="0px",this.notifications.panel.classList.remove("is-open")):(this.header.style.marginBottom=this.notificationPanelHeight+"px",this.notifications.panel.classList.add("is-open")),this.notifications.states.notifyPanelOpen=!this.notifications.states.notifyPanelOpen},a.prototype.getNotifications=function(){},a.prototype.handleNotifications=function(){},a}();